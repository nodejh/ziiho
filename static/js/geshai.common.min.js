/*!
 * geshai 公用库
 * 更多详尽信息请看官网：http://js.geshai.com
 * 
 * Copyright 2010-2015, Jolly,Cloud,Bonejay
 *
 * 请尊重原创，保留头部版权
 * 在保留版权的前提下可应用于个人或商业用途
 *
 */
 var GESHAI=function(a){var b={path:"",domain:"",url:"",loadSrcSmall:"",loadSrcMiddle:"",loadSrcLarge:"",fsubmitKey_get:"",fsubmitKey_post:"",fsubmitKey_ajax:"",fsubmitKey_onlybody:""},c={randlen:10,fsubmit:{},dialog:{}};this.settings=this.extend(b,a),this.currents=c};GESHAI.prototype.init=function(){},GESHAI.prototype.dir=function(a){var b=this.setting("path"),c={root:b,data:b+"/data",html:b+"/html",source:b+"/source","static":b+"/static",template:b+"/template",uploadfile:b+"/uploadfile",plugin:b+"/plugin"};return c[a]},GESHAI.prototype.extend=function(a,b){if(this.is_object(b))for(var c in b)a[c]=b[c];return a},GESHAI.prototype.setting=function(a,b){return this.array_key_exists(a,this.settings)?1==arguments.length?this.settings[a]:(this.settings[a]=b,void 0):""},GESHAI.prototype.cur=function(a,b){return this.array_key_exists(a,this.currents)?1==arguments.length?this.currents[a]:(this.currents[a]=b,void 0):""},GESHAI.prototype.fmkey=function(a,b){return this.array_key_exists(a,this.settings.fmkey)?1==arguments.length?this.settings.fmkey[a]:(this.settings.fmkey[a]=b,void 0):""},GESHAI.prototype.is_array=function(a){return"object"==typeof a},GESHAI.prototype.is_object=function(a){return this.is_array(a)?"object"==(""+a).substr(1,6):!1},GESHAI.prototype.is_boolean=function(a){return a instanceof Boolean},GESHAI.prototype.trim=function(a){return(""+a).replace(/(^\s*)|(\s*$)/g,"")},GESHAI.prototype.is_empty=function(a){if(void 0===a||null==a)return!0;if(this.is_array(a)){for(var b in a)return!1;return!0}return this.is_boolean(a)?!1:this.trim(a).length<1?!0:!1},GESHAI.prototype.is_function=function(a){return"function"==typeof a},GESHAI.prototype.is_true=function(a){return this.is_empty(a)?!1:this.is_boolean(a)?a:this.in_array(a,[!0,1,"true"])},GESHAI.prototype.array_key_exists=function(a,b){if(this.is_empty(a)||!this.is_array(b))return!1;for(var c in b)if(c==a)return!0;return!1},GESHAI.prototype.in_array=function(a,b){if(this.is_empty(a)||!this.is_array(b))return!1;for(var c in b)if(b[c]==a)return!0;return!1},GESHAI.prototype.array_value=function(a,b,c){return this.array_key_exists(a,b)?b[a]:c},GESHAI.prototype.value_mm=function(a,b,c){return b>a?a=b:a>c&&(a=c),a},GESHAI.prototype.idname=function(a){return"#"+a},GESHAI.prototype.classname=function(a){return"."+a},GESHAI.prototype.isloaded=function(a,b,c){var e,d=document.getElementsByTagName(c);for(e=0;e<d.length;e++)if(this.array_value("value",d.item(e).getAttributeNode(b))==a)return!0;return!1},GESHAI.prototype.loadjs=function(a){var b,c,d;if(this.is_empty(a)||this.is_boolean(a))return null;for(a=this.is_array(this._value)?a:[a],b=document.getElementsByTagName("head").item(0),c=null,d=0;d<a.length;d++)this.isloaded(a[d],"src","script")||(c=document.createElement("script"),c.type="text/javascript",c.src=a[d],b.appendChild(c))},GESHAI.prototype.loadcss=function(a){var b,c,d;if(this.is_empty(a)||this.is_boolean(a))return null;for(a=this.is_array(this._value)?a:[a],b=document.getElementsByTagName("head").item(0),c=null,d=0;d<a.length;d++)this.isloaded(a[d],"href","link")||(c=document.createElement("link"),c.rel="stylesheet",c.type="text/css",c.href=a[d],b.appendChild(c))},GESHAI.prototype.explorer=function(){var a=window.navigator.userAgent.toLowerCase();return a.indexOf("msie")>=0?"ie":a.indexOf("firefox")>=0?"firefox":a.indexOf("chrome")>=0?"chrome":a.indexOf("opera")>=0?"opera":a.indexOf("safari")>=0?"safari":void 0},GESHAI.prototype.clientsize=function(a){var b={clientWidth:parseInt(document.documentElement.clientWidth),clientHeight:parseInt(document.documentElement.clientHeight),scrollWidth:parseInt(document.body.scrollWidth),scrollHeight:parseInt(document.body.scrollHeight),offsetWidth:parseInt(document.body.offsetWidth),offsetHeight:parseInt(document.body.offsetHeight),bodyWidth:parseInt(document.body.clientWidth),bodyHeight:parseInt(document.body.clientHeight)};return 1==arguments.length?this.array_value(a,b):b},GESHAI.prototype.randnum=function(a){var e,b=["0","1","2","3","4","5","6","7","8","9"],c="",d="";for(a=this.is_empty(a)?0:parseInt(a),a=1>a?this.cur("randlen"):a,e=0;a>e;e++)c=Math.max(Math.ceil(10*Math.random()),1),d+=""+b[c-1];return d},GESHAI.prototype.randstr=function(a){var e,b=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"],c="",d="";for(a=this.is_empty(a)?0:parseInt(a),a=1>a?this.cur("randlen"):a,c=Math.max(Math.ceil(26*Math.random()),1),d+=""+b[c-1],e=0;a-1>e;e++)c=Math.max(Math.ceil(36*Math.random()),1),d+=""+b[c-1];return d},GESHAI.prototype.array2merge=function(a,b,c){var d,e;if(isBoolean(c)||(c=!0),isVal(b)||(b={}),a instanceof Array)for(d=0,e=a.length;e>d;d++)arr_merge(a[d],b,c);for(d in a)!c&&d in b||(b[d]=a[d]);return b},GESHAI.prototype.array2str=function(a){var b,c,d,e;switch(typeof a){case"object":if(b=[],a instanceof Array){for(c=0,d=a.length;d>c;c++)b.push(objecttostr(a[c]));return"["+b.join(",")+"]"}if(a instanceof RegExp)return""+a;for(e in a)b.push(e+":"+objecttostr(a[e]));return"{"+b.join(",")+"}";case"function":return"function() {}";case"number":return""+a;case"string":return'"'+a.replace(/(\\|\")/g,"\\$1").replace(/\n|\r|\t/g,function(a){return"\n"==a?"\\n":"\r"==a?"\\r":"	"==a?"\\t":""})+'"';case"boolean":return""+a;default:return""+a}},GESHAI.prototype.disbtn=function(a,b){var f,c=this.is_empty(a)?"disabled-buttons":a,d=[];try{d=document.getElementsByName(c)}catch(e){}for(f=0;f<d.length;f++)1==b?d.item(f).setAttribute("disabled","disabled"):d.item(f).removeAttribute("disabled")},GESHAI.prototype.captcha=function(a){var d,e,f,b=this,c={captcha:"",captchaClick:!1,alt:"",click:"",text:"换一张?"};a=this.extend(c,a),d=null,e=null,f=this.randstr(),a.co=function(){return e.childNodes.item(0)},a.src=function(){return b.setting("path")+"/captcha.php?r="+b.randstr()},a.create=function(){try{e=document.getElementById(a.captcha)}catch(c){}if(!b.is_empty(e)){var d=null;try{d=document.createElement("<img />")}catch(c){d=document.createElement("img")}d.setAttribute("id",f),d.setAttribute("alt",a.alt),d.setAttribute("src",a.src()),e.appendChild(d),a.captchaClick===!0&&(a.co().onclick=function(){return this.setAttribute("src",a.src()),!1})}},a.init=function(){a.create();try{d=document.getElementById(a.click)}catch(c){}b.is_empty(e)||b.is_empty(d)||(d.innerHTML=a.text,d.onclick=function(){return a.co().setAttribute("src",a.src()),!1})},a.init()},GESHAI.prototype.redirect=function(a){if(!this.is_object(a))return null;switch(a.target){case":top":window.top.location.href=a.url;break;default:if(this.is_empty(a.target))window.location.href=a.url;else try{document.getElementById(a.target).src=a.url}catch(b){alert("跳转失败！\n错误:"+b)}}},GESHAI.prototype.fsubmit=function(a,b,c){var d,e,f,g,h,i;return!this.is_object(a)||this.is_empty(b)?!1:(d=this,e={stype:"confirm",goback:window.location.href,isOnlybody:!1,start:"",complete:"",success:""},c=this.extend(e,c),c.cur=function(a,b){var c="fsubmit",e=d.cur(c);e[a]=b,d.cur(c,e)},c.method=function(a){var b=c.attrValue(a,"method");return d.is_empty(b)?b="get":(b=(""+b).toLowerCase(),b=d.in_array(b,["post","get"])?b:"get"),b},c.attrValue=function(a,b,c){if(3!=arguments.length)return a.getAttributeNode(b).value;var d=document.createAttribute(b);d.value=c,a.setAttributeNode(d)},c.createIframe=function(b,c){var d=null;try{d=document.createElement('<iframe name="'+c+'" id="'+c+'">')}catch(e){d=document.createElement("iframe"),d.setAttribute("id",c),d.setAttribute("name",c)}d.style.cssText="z-index:-1; position:absolute; width:0px; height:0px; overflow:hidden; filter:alpha(opacity=0); -moz-opacity:0; -khtml-opacity: 0; opacity: 0;",b.appendChild(d),a.setAttribute("sflag",c)},c.createInput=function(a,b,c){var d="";try{d=document.createElement('<input type="hidden" name="'+b+'" />')}catch(e){d=document.createElement("input"),d.setAttribute("type","hidden"),d.setAttribute("name",b)}d.setAttribute("value",c),a.insertBefore(d,a.childNodes[0])},f=a.getAttribute("sflag"),g=a.tagName.toLowerCase(),h="form"==g?a:a.form,i=c.method(h),c.attrValue(h,"action",""),this.is_empty(f)&&(f=this.randstr(16),c.createIframe(h,f)),this.is_empty(h.fsubmit_flag)&&c.createInput(h,"fsubmit_flag",i),this.is_empty(h.fsubmit_key)&&c.createInput(h,"fsubmit_key",this.setting("fsubmitKey_"+i)),c.isOnlybody===!0&&this.is_empty(h.fsubmit_onlybody)&&c.createInput(h,"fsubmit_onlybody",this.setting("fsubmitKey_onlybody")),this.is_empty(h.fsubmit_goback)?c.createInput(h,"fsubmit_goback",c.goback):this.is_empty(h.fsubmit_goback.value)&&(h.fsubmit_goback.value=c.goback),c.attrValue(h,"target",f),c.attrValue(h,"action",b),c.cur(f,c),this.is_function(c.start)&&c.start(),"confirm"==c.stype&&h.submit(),!0)},GESHAI.prototype.dialog=function(a){var e,f,g,i,j,k,l,m,n,o,p,r,t,u,v,b=this,d={skin:"default",speed:150,title:"温馨提示",isTitle:!0,autoSize:!0,width:680,height:480,isDrag:!0,isBg:!0,bgOpacity:.2,clickBgClose:!1,autoClose:!1,autoCloseTime:3500,url:"",urlTarget:"",type:"text",dataType:"POST",data:"",isHeader:!0,isFooter:!0,isMessageIcon:!0,isErrorIcon:!1,errorIcon:"s-error.png",isSuccessIcon:!1,successIcon:"s-success.png",isWarnIcon:!1,warnIcon:"s-warn.png",isPromptIcon:!1,promptIcon:"s-prompt.png",isCloseBtn:!0,isCloseFunc:function(){b.dialog.close()},isOkBtn:!0,okBtnTitle:"确定",okBtnFunc:function(){b.dialog.close()},isCancelBtn:!1,cancelBtnTitle:"取消",cancelBtnFunc:function(){b.dialog.close()}};switch(a=b.extend(d,a),1!=a.isHeader&&(a.isCloseBtn=!1),1!=a.isFooter&&(a.isOkBtn=!1,a.isCancelBtn=!1),e="ie"==b.explorer()?"":" dialog-wrap-border-opacity",f={close:"dialog-close-"+this.randstr(16),ok:"dialog-ok-"+this.randstr(16),cancel:"dialog-cancel-"+this.randstr(16)},g={minWidth:100,maxWidth:680,minHeight:0,maxHeight:480},document.documentElement.clientWidth,i=document.documentElement.clientHeight,j=document.body.scrollWidth,k=document.body.scrollHeight,k=i>k?i:k,l=document.body.scrollTop||document.documentElement.scrollTop,m="dialog-bg",n=b.idname(m),o="dialog-wrap",p=b.idname(o),p+" "+b.classname("tit"),r=p+" "+b.classname("bd"),p+" "+b.classname("fd"),this.dialog.close=function(){1==a.isBg&&$(n).remove(),$(p).remove()},this.dialog.close(),a.sIcon=function(){var c,d;return b.is_true(a.isMessageIcon)?(c="",d=b.dir("static")+"/dialog/"+a.skin+"/",1==a.isErrorIcon&&(c+='<img class="s-icon" src="'+(d+a.errorIcon)+'" />'),1==a.isSuccessIcon&&(c+='<img class="s-icon" src="'+(d+a.successIcon)+'" />'),1==a.isWarnIcon&&(c+='<img class="s-icon" src="'+(d+a.warnIcon)+'" />'),1==a.isPromptIcon&&(c+='<img class="s-icon" src="'+(d+a.promptIcon)+'" />'),c):""},t="",1==a.isBg&&(t='<div id="'+m+'" class="'+m+'" style="width:'+j+"px; height:"+k+'px;"></div>'),t+='<div id="'+o+'" class="'+o+e+'">',1==a.isHeader&&(t+='<div class="hd"><p class="tit">'+a.title+"</p>",1==a.isCloseBtn&&(t+='<p class="close" id="'+f.close+'"><a href="javascript:;"></a></p>'),t+="</div>"),t+='<div class="bd"></div>',1==a.isFooter&&(t+='<div class="fd">',1==a.isOkBtn&&(t+='<button type="button" class="ok" id="'+f.ok+'" name="'+f.ok+'">'+a.okBtnTitle+"</button>"),1==a.isCancelBtn&&(t+='<button type="button" class="cancel" id="'+f.cancel+'" name="'+f.cancel+'">'+a.cancelBtnTitle+"</button>"),t+="</div>"),t+="</div>",$("body").append(t),a.type){case"text":$(r).html(a.sIcon()+""+a.data);break;case"id":$(r).html($(a.data).html());break;case"img":$.ajax({beforeSend:function(){$(r).html("<img src='"+this.setting("dialog_loadSrc")+"' class='loading' />")},success:function(){$(r).html("<img src="+a.data+" alt='' />")},error:function(){$(r).html("<p class='error'>加载数据出错...</p>")}});break;case"url":$.ajax({type:a.dataType,url:a.url,data:dataValue,beforeSend:function(){$(r).html("<img src='"+this.setting("dialog_loadSrc")+"' class='loading' />")},success:function(a){$(r).html(a)},error:function(){$(r).html("<p class='error'>加载数据出错...</p>")}});break;case"iframe":$.ajax({beforeSend:function(){$(r).html("<img src='"+this.setting("dialog_loadSrc")+"' class='loading' />")},success:function(){_CJG.dialogIframeId="dialog-content-iframe-"+getrandoms(4),$(r).html('<iframe id="'+_CJG.dialogIframeId+'" src="'+toUrl+'" width="100%" height="'+parseInt(height)+"px"+'" scrolling="auto" frameborder="0" marginheight="0" marginwidth="0"></iframe>'),_CJG.dialogIframe=window.frames[_CJG.dialogIframeId]},error:function(){$(r).html("<p class='windown-error'>加载数据出错...</p>")}})}u={width:document.getElementById(o).clientWidth,height:0,offsetWidth:0,offsetHeight:0,bdHeight:0},u.width=a.autoSize===!0?b.value_mm(u.width,g.minWidth,g.maxWidth):a.width,$(p).css({position:"absolute",width:u.width+"px",left:(j-u.width)/2+"px"}),a.autoSize===!0?(u.bdHeight=$(r).height(),u.bdHeight>=1&&$(r).height(b.value_mm(u.bdHeight,g.minHeight,g.maxHeight))):(u.bdHeight=a.height,$(r).height(u.bdHeight)),u.offsetWidth=document.getElementById(o).offsetWidth,u.offsetHeight=document.getElementById(o).offsetHeight,$(p).css({top:(i-u.offsetHeight)/2+l+"px"}),v=function(){var a=document.getElementById(o),b=$(p).find(".hd")[0],c=0,d=0,e=0,g=!1;b.onmouseover=function(){b.style.cursor="move"},b.onmousedown=function(b){g=!0,b=window.event?window.event:b,c=b.clientX-a.offsetLeft,d=b.clientY-(a.offsetTop-e),document.onmousemove=function(b){var f,h;g&&(b=window.event?window.event:b,f=b.clientX-c,h=b.clientY-d,f>0&&f+u.offsetWidth<j&&h>0&&h+u.offsetHeight<k&&(a.style.left=f+"px",a.style.top=parseInt(h+e)+"px",a.style.margin="auto"))},document.onmouseup=function(){g=!1,document.onselectstart=function(){return!0},a.onselectstart=function(){return!0}},document.onselectstart=function(){return!1},a.onselectstart=function(){return!1},document.all?window.event.returnValue=!1:b.preventDefault()}},1==a.isHeader&&1==a.isDrag&&v(),1==a.isBg&&1==a.clickBgClose&&$(n).click(function(){b.dialog.close()}),1==a.isCloseBtn&&(document.getElementById(f.close).onclick=function(){b.is_function(a.isCloseFunc)&&a.isCloseFunc()}),1==a.isOkBtn&&(document.getElementById(f.ok).onclick=function(){b.is_function(a.okBtnFunc)&&a.okBtnFunc()}),1==a.isCancelBtn&&(document.getElementById(f.cancel).onclick=function(){b.is_function(a.cancelBtnFunc)&&a.cancelBtnFunc()}),1==a.isBg&&$(n).css({opacity:a.bgOpacity,display:"block"}),$(p).animate({opacity:1},a.speed)},GESHAI.prototype.radio2checkbox=function(a){var c,d,b=[];try{for(c=document.getElementsByName(a),d=0;d<c.length;d++)c.item(d).checked&&b.push(c.item(d).value)}catch(e){}return b},GESHAI.prototype.rchecked=function(a){return this.radio2checkbox(a)[0]},GESHAI.prototype.cchecked=function(a){return this.radio2checkbox(a)},GESHAI.prototype.input=function(a,b){var d,e,c="";try{switch(d=arguments.length,e=null,a.substr(0,1)){case"#":e=document.getElementById(a.substr(1));break;default:e=document.getElementsByName(a).item(0)}2!=d?c=e.value:e.value=b}catch(f){}return c},GESHAI.prototype.select=function(a){var c,d,b=[];try{for(c=document.getElementsByName(a).item(0),d=0;d<c.options.length;d++)c.options[d].selected&&b.push({index:d,value:c.options[d].value,text:c.options[d].text})}catch(e){}return b},GESHAI.prototype.radio=function(a){var d,e,f,b=this,c={radioItem:"",name:"",fClass:"",tClass:"",callback:""};a=this.extend(c,a),d=$(a.radioItem),e="radio-status",f="radio-icon",a.doFunc=function(c){b.is_function(a.callback)&&a.callback(c)},a.ischeckedFunc=function(a){return"true"==$(a).attr(e)},a.isIconFunc=function(a){return"true"==$(a).attr(f)},a.doCheckedFunc=function(b,c){var d=document.getElementsByName(a.name);d.item(b).checked=c},a.doStatusFunc=function(a,b){$(a).attr(e,b)},a.doIconFunc=function(b,c,d){a.isIconFunc(b)&&($(b).removeClass(c),$(b).addClass(d))},d.unbind(),d.click(function(){var c=d.index(this);d.not(":eq("+c+")").each(function(b){a.doCheckedFunc(b,!1),a.doStatusFunc(this,""),a.doIconFunc(this,a.tClass,a.fClass)}),a.doCheckedFunc(c,!0),a.doStatusFunc(this,"true"),a.doIconFunc(this,a.fClass,a.tClass),a.doFunc(c)})},GESHAI.prototype.checkbox=function(a){var d,e,f,g,b=this,c={checkbox:"",checkboxItem:"",name:"",fClass:"",tClass:"",fFunc:"",tFunc:"",callback:""};a=this.extend(c,a),d=$(a.checkbox),e=$(a.checkboxItem),f="checkbox-status",g="checkbox-icon",a.doFunc=function(c,d,f){if(e.length>=1){var g=a.ischeckedFunc(c)?a.tFunc:a.fFunc;b.is_function(g)&&g(d,f),b.is_function(a.callback)&&a.callback(d,f)}},a.cvalue=function(a,b,c,d){var e={checked:a,status:b,rClass:c,aClass:d};return e},a.ischeckedFunc=function(a){return"true"==$(a).attr(f)},a.isIconFunc=function(a){return"true"==$(a).attr(g)},a.doCheckedFunc=function(b,c){var d=document.getElementsByName(a.name);d.item(b).checked=c},a.doStatusFunc=function(a,b){$(a).attr(f,b)},a.doIconFunc=function(b,c,d){a.isIconFunc(b)&&($(b).removeClass(c),$(b).addClass(d))},a.doItem2sFunc=function(){var c=b.radio2checkbox(a.name);d.each(function(){c.length<1?(a.doStatusFunc(this,""),a.doIconFunc(this,a.tClass,a.fClass)):(a.doStatusFunc(this,"true"),a.doIconFunc(this,a.fClass,a.tClass))})},d.unbind(),d.click(function(){var c=a.ischeckedFunc(this),f=a.cvalue(!1,"",a.tClass,a.fClass);c||(f=a.cvalue(!0,"true",a.fClass,a.tClass)),e.each(function(b){a.doCheckedFunc(b,f.checked),a.doStatusFunc(this,f.status),a.doIconFunc(this,f.rClass,f.aClass)}),d.each(function(){a.doStatusFunc(this,f.status),a.doIconFunc(this,f.rClass,f.aClass)}),a.doFunc(this,!0)}),e.unbind(),e.click(function(){var c=e.index(this),d=a.ischeckedFunc(this),f=a.cvalue(!1,"",a.tClass,a.fClass);d||(f=a.cvalue(!0,"true",a.fClass,a.tClass)),a.doCheckedFunc(c,f.checked),a.doStatusFunc(this,f.status),a.doIconFunc(this,f.rClass,f.aClass),a.doItem2sFunc(),a.doFunc(this,!1,c)})},GESHAI.prototype.password_status=function(a){var d,e,b=this,c={len:6,input:"",callback:""};a=this.extend(c,a),d=[/\d/,/[a-zA-Z]/,/[^0-9a-zA-Z]/],e=document.getElementById(a.input),a.levelCheck=function(b){var c=0;return d[0].test(b)&&c++,d[1].test(b)&&c++,d[2].test(b)&&c++,b.length<a.len&&(c=b.length<1?0:1),c>3&&(c=3),c},b.is_empty(e)||(e.onkeyup=function(){var c=a.levelCheck(this.value);b.is_function(a.callback)&&a.callback(c)})},GESHAI.prototype.levelselect=function(a){var d,e,f,g,h,b=this,c={data:[],selected:"",container:"",name:"",defOption:'<option value="-1">==请选择==</option>',selectClass:"",optionFunc:"",callback:""};return a=this.extend(c,a),d=!0,e=$(a.container),e.length<1?null:(f=a.data,g=this.randstr(16),h=0,a.callbackDo=function(c){b.is_function(a.callback)&&a.callback(c)},a.optionFuncDo=function(c){var d={};return b.is_function(a.optionFunc)&&(d=a.optionFunc(c)),d},a.selectObj=function(){return e.find('select[flag="'+g+'"]')},a.select=function(b,c){var h,i,j,k;for(e.append('<select flag="'+g+'" class="'+a.selectClass+'" name="'+a.name+'"></select>'),h=a.selectObj().last(),i=a.defOption,j=0;j<f.length;j++)k=a.optionFuncDo(f[j]),k.parentid==b&&(i+=d?'<option value="'+k.id+'" '+(k.id==a.selected[c]?'selected="selected"':"")+">"+k.text+"</option>":'<option value="'+k.id+'">'+k.text+"</option>");h.html(i),a.change()},a.child=function(b,c){var d=!1,e=$(b).find("option:selected").val(),g=$(b).find("option");g.each(function(){var g,h;for(g=0;g<f.length;g++)if(h=a.optionFuncDo(f[g]),h.parentid==$(b).val())return d=!0,null}),d&&a.select(e,c+1)},a.change=function(){var b=a.selectObj();b.unbind("change"),b.change(function(){h=b.index(this);for(var d=h+1;d<b.length;d++)b.eq(d).remove();a.child(this,h),a.callbackDo(a.selectObj())})},a.init=function(){a.select(0,0);for(var b=0;b<a.selected.length;b++)a.child(a.selectObj().last(),b);d=!1,a.callbackDo(a.selectObj())},a.init(),void 0)},GESHAI.prototype.placeholder=function(a){var d,e,f,b=this,c={name:"",text:"",textClass:"",onfocus:"",onblur:""};return a=this.extend(c,a),d=$(a.name),d.length<1?!1:(e=d.parent(),f=null,a.onfocusDo=function(c){b.is_function(a.onfocus)&&a.onfocus(c)},a.onblurDo=function(c){b.is_function(a.onblur)&&a.onblur(c)},a.v=function(a){return $(a).val()},a.isVal=function(b){return(""+a.v(b)).length<1?!1:!0},a.holderDis=function(a){f.css("display",1==a?"block":"none")},a.init=function(){var g,h;({width:d.outerWidth(),height:d.outerHeight()}),g='text-holder="'+b.randnum(10)+'"',h='<em style="position:absolute; left:0px; top:0px;'+(b.is_empty(a.textClass)?" color:#999; text-indent:5px;":"")+" display:"+(a.isVal(d)?"none":"block")+';" class="'+a.textClass+'" '+g+">"+a.text+"</em>",e.css("position","relative"),e.append(h),f=$("em["+g+"]"),f.click(function(){a.holderDis(!1),d.focus()}),d.focus(function(){a.holderDis(!1),a.onfocusDo(a.v(this))}),d.blur(function(){a.isVal(this)?a.holderDis(!1):a.holderDis(!0),a.onblurDo(a.v(this))})},a.init(),void 0)},window._GESHAI=new GESHAI;